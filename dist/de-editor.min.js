var LoadEditor;(()=>{"use strict";var e=[(e,t,a)=>{a.r(t);class s{constructor(e,t){this.name=e,this.config=t}build(){sessionStorage.setItem(this.name,JSON.stringify(this.config))}}function o(e,t,a,s,o){var n=document.querySelectorAll(`.${e}`);if(n.forEach((e=>{t instanceof Object?t.forEach((t=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})):e.classList.remove(t),e.classList.remove(a),e.classList.add(o.css_class)})),s){try{var l=s.hidden}catch(e){console.log(`aot hide.hidden not found ${e}`);l=!1}try{var i=s.class}catch(e){console.log(`aot hide.hidden not found ${e}`);i=""}if(l&&i){document.querySelectorAll(`.${i}`).forEach((e=>{e.style.display="none"}))}}return String(n.length)}function n(e,t,a,s,o){var n=document.querySelectorAll(`.${e}`);if(n.forEach((e=>{t instanceof Object?t.forEach((t=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})):e.classList.add(t),e.classList.add(a),e.classList.add(o.css_class)})),s){try{var l=s.hidden}catch(e){console.log(`aot hide.hidden not found ${e}`);l=!1}try{var i=s.class}catch(e){console.log(`aot hide.hidden not found ${e}`);i=""}if(l&&i){document.querySelectorAll(`.${i}`).forEach((e=>{e.style.display="inline"}))}}return String(n.length)}function l(e){e.hist&&window.history.replaceState({},"",e.href),e.state&&window.history.pushState(e.state,"",e.href),e.cit&&(e.cit.innerHTML=`${location.hostname}${location.pathname}${e.href}`,e.cit.setAttribute("href",e.href))}function i(e){let t="spinner_"+e;null!==document.getElementById(t)&&document.getElementById(t).remove()}function r(e,t){return e||t}class c extends HTMLElement{static get observedAttributes(){return["opt","onclick"]}connectedCallback(){this.render(),this.childNodes[3].childNodes[1].addEventListener("click",this.textFeatures)}textFeatures(){let e=sessionStorage.getItem("annotation_slider");if(e){let S=JSON.parse(e),A=new URL(window.location.href),I=new URLSearchParams(A.search),N=this.getAttribute("id");N||console.log("Error 001 in component annotation slider:           ID of annotation slider custom child element not found.           Make sure the annotation-slider element holds the attribute 'opt' with           a defined string value.");try{var t=S.variants.find((e=>e.opt===N))}catch(e){console.log("Error 002 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}let z=t||{opt:N,features:{all:!1,class:"single-feature"}};z||console.log("Error 003 in component annotation slider:          No variant found! Please define a variant object that contains                 and 'opt' key holding a string value that matches the 'opt' value of custom                 element 'annotation#slider'.");try{var a=z.features}catch(e){console.log("Message 004 in component annotation slider:          Features object in variant not found. Creating default parameters.")}var s=a||{all:!1,class:"single-feature"};try{var i=S.variants.filter((e=>!1===e.features.all))}catch(e){console.log("Message 005 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}var r=i||[{opt:N,features:{all:!1,class:"single-feature"}}];try{var c=S.variants.filter((e=>!0===e.features.all))}catch(e){console.log("Message 006 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}var d=c||[{opt:"text-features",features:{all:!0,class:"features-1"}}];try{var u=S.span_element}catch(e){console.log("Message 007 in component annotation slider:        style obj not found. Creating default parameters.")}var h=u||{css_class:"badge-item"},m=S.active_class?S.active_class:"active",g=s.all,f=s.class;if(!0===g)if(this.classList.contains(m))this.classList.remove(m),[...r].forEach((e=>{if(!0===document.getElementById(e.opt).checked&&e.features.class===f){var t=e.color?e.color:`color-${e.opt}`;o(e.html_class?e.html_class:`html-class-${e.opt}`,e.css_class?e.css_class:`css-class-${e.opt}`,t,!!e.hide&&e.hide,h);var a=e.opt_slider?e.opt_slider:`${e.opt}-slider`;try{let e=document.getElementById(a);e.classList.remove(t),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`Error 008 in component annotation slider:                 slider class ${a} not found!`)}document.getElementById(e.opt).checked=!1,document.getElementById(e.opt).classList.remove(m),I.delete(e.opt)}})),this.removeAttribute("data"),this.classList.remove("slider-number");else{var p=0;this.classList.add(m),[...r].forEach((e=>{if(!1===document.getElementById(e.opt).checked&&e.features.class===f){var t=e.color?e.color:`color-${e.opt}`;var a=n(e.html_class?e.html_class:`html-class-${e.opt}`,e.css_class?e.css_class:`css-class-${e.opt}`,t,!!e.hide&&e.hide,h),s=e.opt_slider?e.opt_slider:`${e.opt}-slider`;try{let e=document.getElementById(s);e.classList.add(t),e.setAttribute("data",a),e.classList.add("slider-number")}catch(e){console.log(`Message 009 in component annotation slider:                   slider class ${s} not found!`)}document.getElementById(e.opt).checked=!0,document.getElementById(e.opt).classList.add(m),I.set(e.opt,"on"),p+=parseInt(a)}})),this.setAttribute("data",String(p)),this.classList.add("slider-number")}else if("boolean"!=typeof g)console.log('Error 010 in component annotation slider:           Type of variant config. "features.all" must be Boolean (true or false)');else{var v=z.color?z.color:`color-${z.opt}`,y=z.html_class?z.html_class:`html-class-${z.opt}`,_=z.css_class?z.css_class:`css-class-${z.opt}`,b=z.hide?z.hide:{hidden:!1,class:""},$=z.opt_slider?z.opt_slider:`${z.opt}-slider`;if(this.classList.contains(m)){this.classList.remove(m);o(y,_,v,b,h);try{let e=document.getElementById($);e.classList.remove(v),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`Error 011 in component annotation slider:             slider class ${$} not found!`)}this.classList.remove(v),I.delete(z.opt)}else{this.classList.add(m);let e=n(y,_,v,b,h);try{let t=document.getElementById($);t.classList.add(v),t.setAttribute("data",e),t.classList.add("slider-number")}catch(e){console.log(`Error 012 in component annotation slider:             slider class ${$} not found!`)}this.classList.add(v),I.set(z.opt,"on")}var w=d.find((e=>e.features.class===s.class));if(w instanceof Object){let e=document.querySelectorAll(`input.${s.class}[aot-type="false"]:checked`),t=r.filter((e=>!1===e.features.all&&e.features.class===s.class));e.length===t.length?(document.getElementById(w.opt).checked=!0,document.getElementById(w.opt).classList.add(m)):(document.getElementById(w.opt).checked=!1,document.getElementById(w.opt).classList.remove(m))}}var L={[z.opt]:"on/off"},E=z.chg_citation?z.chg_citation:"citation-url";l({hist:!1,cit:document.getElementById(E),state:L,href:`?${I}${location.hash}`})}}render(){let e="annotation_slider",t=sessionStorage.getItem(e),a=JSON.parse(t),s=this.getAttribute("opt");"string"!=typeof s&&console.log("Error 013 in component annotation slider:       No 'opt' attribute in custom element font-family found!");var o=this.getAttribute("onclick");try{var n=a.variants.find((e=>e.opt===s))}catch(e){console.log("Message 014 in component annotation slider:         No option parameters found. Creating default parameters to continue.")}var l=n||{opt:s,features:{class:"features-1",all:!1}};try{var i=l.features}catch(e){console.log("Message 015 in component annotation slider:         Features object in variant not found. Creating default parameters.")}let r=i||{all:!1,class:"feature-1"},c=l.title?l.title:"Text Feature",d=l.opt_slider?l.opt_slider:`${s}-slider`;try{var u=a.rendered_element}catch(e){console.log("Message 017 in component annotation slider:       Hide object not found. Creating default parameters.")}let h=u||{label_class:"switch",slider_class:"i-slider round"},m=h.label_class?h.label_class:"switch",g=h.slider_class?h.slider_class:"i-slider round";this.innerHTML=`\n            <label>${c}</label>\n            <label class="${m}">\n                <input title="${c}"\n                    onclick="${o}"\n                    type="checkbox"\n                    id="${s}"\n                    data-target="${e}"\n                    class="${r.class}"\n                    aot-type="${String(r.all)}"/>\n                <span id="${d}" class="${g}"></span>\n            </label>\n        `}disconnectedCallback(){this.childNodes[3].childNodes[1].removeEventListener("click",this.textFeatures)}}class d extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("click",this.fullScreen)}fullScreen(){let e=sessionStorage.getItem("fullsize");if(e){var t=JSON.parse(e);let u=new URL(window.location.href),h=new URLSearchParams(u.search),m=this.getAttribute("id");try{var a=t.variants.find((e=>e.opt===m))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var s=a||{opt:m},o=t.active_class?t.active_class:"active",n=s.hide?s.hide:"hide-container",i=s.to_hide?s.to_hide:"fade",r=s.urlparam?s.urlparam:"fullscreen";"off"==h.get(r)||null==h.get(r)?(h.set(r,"on"),document.querySelectorAll(`.${n}`).forEach((e=>{e.classList.add(i)})),this.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen-exit" viewBox="0 0 16 16">\n                    <path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>\n                </svg>\n            ',this.classList.remove(o)):(h.delete(r),document.querySelectorAll(`.${n}`).forEach((e=>{e.classList.remove(i)})),this.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen" viewBox="0 0 16 16">\n                    <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>\n                </svg>\n            ',this.classList.add(o));var c={[s.opt?s.opt:"edition-fullscreen"]:h.get(r)},d=s.chg_citation?s.chg_citation:"citation-url";l({hist:!1,cit:document.getElementById(d),state:c,href:`?${h}${location.hash}`})}}render(){let e="fullsize";var t=JSON.parse(sessionStorage.getItem(e));let a=this.getAttribute("opt");try{var s=t.variants.find((e=>e.opt===a))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var o=s||{opt:a},n=t.active_class?t.active_class:"nav-link btn btn-round",l=t.render_svg?t.render_svg:"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-fullscreen' viewBox='0 0 16 16'><path d='M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z'/></svg>",i=o.title?o.title:"Full screen on/off",r=o.opt?o.opt:"edition-fullscreen";this.innerHTML=`\n            <small><label style="padding:.2em;">${i}:</label></small>\n            <a title="${i}"\n                style="cursor:pointer;"\n                class="${n} active"\n                id="${r}"\n                data-target="${e}">\n                ${l}\n            </a>\n        `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("click",this.fullScreen)}}class u extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("change",this.fontSize)}fontSize(){let e=sessionStorage.getItem("fontsize");if(e){var t=JSON.parse(e);let d=new URL(window.location.href),u=new URLSearchParams(d.search),h=this.getAttribute("id");try{var a=t.variants.find((e=>e.opt===h))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var s=a||{opt:h};let m=s.paragraph?s.paragraph:"p",g=s.p_class?s.p_class:"yes-index";try{var o=s.sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let f=o||{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"},p=s.urlparam?s.urlparam:"fontsize";var n=document.getElementById(h).value,i=s.css_class?s.css_class:"font-size-";if(u.get(p)!==n.replace(i,"")){u.set(p,n.replace(i,"")),[...document.querySelectorAll(`${m}.${g}`)].forEach((e=>{for(let t in f)"default"!==f[t]&&e.classList.remove(i+f[t]);"default"!==n&&e.classList.add(n)}))}var r={[s.opt?s.opt:"select-fontsize"]:u.get(p)},c=s.chg_citation?s.chg_citation:"citation-url";l({hist:!1,cit:document.getElementById(c),state:r,href:`?${u}${location.hash}`})}}render(){let e="fontsize",t=sessionStorage.getItem(e);var a=JSON.parse(t);let s=this.getAttribute("opt");try{var o=a.variants.find((e=>e.opt===s))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=o||{opt:s};let l=n.sizes?n.sizes:{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"};var i=a.html_class?a.html_class:"custom-select",r=n.css_class?n.css_class:"font-size-";let c=`\n            <small><label style="padding:.2em;">${n.title?n.title:"Font size"}:</label></small>\n            <select id="${s}" data-target="${e}" class="${i}">\n        `;for(let e in l){if("default"==l[e])var d=`<option value="default" selected='selected'>${l[e].split("-").slice(-1)} px`;else d=`<option value='${r}${l[e]}'>${l[e].split("-").slice(-1)} px`;c+=d,c+="</option>"}c+="</select>",this.innerHTML=c}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("change",this.fontSize)}}class h extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("change",this.fontFamily)}fontFamily(){let e=sessionStorage.getItem("font_family");if(e){let c=JSON.parse(e),d=new URL(window.location.href),u=new URLSearchParams(d.search),h=this.getAttribute("id");try{var t=c.variants.find((e=>e.opt===h))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var a=t||{opt:h},s=a.chg_citation?a.chg_citation:"citation-url",o=document.getElementById(s),n=a.urlparam?a.urlparam:"font";let m=a.paragraph?a.paragraph:"p",g=a.p_class?a.p_class:"yes-index";try{var i=a.fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let f=i||{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"};var r=document.getElementById(a.opt).value;if(u.get(n)!==r){u.set(n,r),document.querySelectorAll(`${m}.${g}`).forEach((e=>{for(let t in f)"default"!==f[t]&&e.classList.remove(f[t].toLowerCase());"default"!==r&&e.classList.add(r.toLowerCase())}))}l({hist:!1,cit:o,state:{[a.opt]:u.get(n)},href:`?${u}${location.hash}`})}}render(){let e="font_family",t=sessionStorage.getItem(e),a=JSON.parse(t),s=this.getAttribute("opt");"string"!=typeof s&&console.log("No 'opt' attribute in custom element font-family found!");try{var o=a.variants.find((e=>e.opt===s))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=o||{opt:s},l=n.fonts?n.fonts:{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"};let i=a.html_class?a.html_class:"custom-select",r=n.css_class?n.css_class:"",c=`\n            <small><label style="padding:.2em;">${n.title?n.title:"Font Family"}:</label></small>\n            <select id="${s}" data-target="${e}" class="${i}">\n        `;for(let e in l){if("default"==l[e])var d=`<option value="default" selected='selected'>${l[e].replace("-"," ")}`;else d=`<option value='${r}${l[e]}'>${l[e].replace("-"," ")}`;c+=d,c+="</option>"}c+="</select>",this.innerHTML=c}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[2].removeEventListener("change",this.fontFamily)}}const m=OpenSeadragon;class g extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("click",this.viewerSwitch)}viewerSwitch(){let e=this.getAttribute("id");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("image_switch");if(t){let _=JSON.parse(t);_||alert("Please turn on cookies to display content!");let b=new URL(location.href),$=new URLSearchParams(b.search);try{var a=_.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var s=a||{opt:e},o=_.active_class?_.active_class:"active";let w=s.hide?s.hide:{hidden:!0,class_to_hide:"hide-container1",class_to_show:"show-container1",class_parent:"hide-show-wrapper",resize:"resize-hide"},L=(!w.hidden||w.hidden,w.class_to_hide?w.class_to_hide:"hide-container1"),E=w.class_to_show?w.class_to_show:"show-container1",S=w.resize?w.resize:"resize-hide";w.class_parent&&w.class_parent;var n=s.urlparam?s.urlparam:"image";let A=s.fade?s.fade:"fade",I=s.column_small?s.column_small:{class:"col-md-6",percent:"50"},N=s.column_full?s.column_full:{class:"col-md-12",percent:"100"},z=[I.class?I.class:"col-md-6",I.percent?I.percent:"50"],x=[N.class?N.class:"col-md-12",N.percent?N.percent:"100"];if("on"==$.get(n))$.set(n,"off"),document.querySelectorAll(`.${L}`).forEach((e=>{e.classList.add(A),e.classList.remove(z[0]),e.style.maxWidth=`${x[1]}%`,e.classList.remove(o)})),document.querySelectorAll(`.${E}`).forEach((e=>{e.classList.remove(z[0]),e.classList.add(x[0]),e.style.maxWidth=`${x[1]}%`,e.classList.remove(o)})),document.querySelectorAll(`.${S}`).forEach((e=>{e.classList.add(A)})),this.classList.remove(o);else{if($.set(n,"on"),document.querySelectorAll(`.${L}`).forEach((e=>{e.classList.remove(A),e.classList.add(z[0]),e.style.maxWidth=`${z[1]}%`,e.classList.add(o)})),document.querySelectorAll(`.${E}`).forEach((e=>{e.classList.add(z[0]),e.classList.remove(x[0]),e.style.maxWidth=parseInt(x[1])-parseInt(z[1])+"%",e.classList.add(o)})),document.querySelectorAll(`.${S}`).forEach((e=>{e.classList.remove(A)})),!document.getElementsByClassName("openseadragon-container")[0]){var r=document.querySelectorAll("image-loader"),c=r[0].getAttribute("data-type"),d=r[0].getAttribute("pos"),u=document.getElementById(`${c}_img_${d}`),h=`${c}_container_${d}`,g=document.getElementById(h),f=document.getElementById(`${c}_container2_${d}`),p=document.getElementById(`text-resize-${d}`).offsetHeight,v=document.getElementById(`img-resize-${d}`).offsetWidth;g.style.height=p/1.2+"px",g.style.width=`${v}px`;let e={type:"image",url:u.getAttribute("data-src")},t=(0,m.OpenSeadragon)({id:h,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/images/",tileSources:e,showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});f.remove(),t.addHandler("open",(function(){let e=t.world.getItemAt(0);e.getFullyLoaded()?i(h):e.addOnceHandler("fully-loaded-change",(function(){let e="spinner_"+h;document.getElementById(e)&&document.getElementById(e).remove()}))}))}this.classList.add(o)}var y={[s.opt]:$.get(s.opt)};let B=s.chg_citation?s.chg_citation:"citation-url";l({hist:!1,cit:document.getElementById(B),state:y,href:`?${$}${location.hash}`})}}render(){let e="image_switch",t=sessionStorage.getItem(e),a=JSON.parse(t),s=this.getAttribute("opt");"string"!=typeof s&&console.log("No 'opt' attribute in custom element font-family found!");try{var o=a.variants.find((e=>e.opt===s))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=o||{opt:s};try{a.rendered_element}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let l=a.rendered_element?a.rendered_element:{a_class:"nav-link btn btn-round",svg:"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-image' viewBox='0 0 16 16'><path d='M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z'/><path d='M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z'/></svg>"},i=a.active_class?a.active_class:"active",r=n.title?n.title:"Facsimile on/off";this.innerHTML=`\n            <small><label style="padding:.2em;">${r}:</label></small>\n            <a title="${r}"\n                class="${l.a_class} ${i}"\n                id="${n.opt}"\n                data-target="${e}">\n                ${l.svg}\n            </a>\n        `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("click",this.viewerSwitch)}}class f extends HTMLElement{static get observedAttributes(){return["opt","data-type","data-source","pos"]}connectedCallback(){this.render()}render(){let e=sessionStorage.getItem("image_loader"),t=JSON.parse(e),a=r(t.url,"provide-url"),s=r(t.url_param,"provide-url-params (optional)"),o=this.getAttribute("pos");"string"!=typeof o&&console.log("No 'opt' attribute in custom element font-family found!");let n=this.getAttribute("data-type");"string"!=typeof n&&console.log("No 'opt' attribute in custom element font-family found!");let l=this.getAttribute("data-source");"string"!=typeof l&&console.log("No 'opt' attribute in custom element font-family found!"),this.innerHTML=`\n            <span id="${n}_img_${o}" data-src="${a}${l}${s}">Enable JavaScript to load image!</span>\n        `}}const p=[];class v extends HTMLElement{static get observedAttributes(){return["opt","pos","facs","data-type"]}connectedCallback(){this.render(),this.childNodes[1].addEventListener("click",this.updateImgPage)}updateImgPage(){let e=sessionStorage.getItem("ed_pagination");if(e){let i=JSON.parse(e),r=new URL(window.location.href),c=new URLSearchParams(r.search);var t=this.getAttribute("href");"string"!=typeof t&&console.log("No 'href' attribute in custom element pagination found!");var a=this.getAttribute("data-tab");"string"!=typeof t&&console.log("No 'data-tab' attribute in custom element pagination found!");let d=i.urlparam?i.urlparam:"page";c.set(d,t.replace(/[^0-9]+/,""));var s={[d]:t.replace(/[^0-9]+/,"")};let u=i.chg_citation?i.chg_citation:"citation-url";l({hist:!1,cit:document.getElementById(u),state:s,href:`?${c}${location.hash}`});let h=i.pag_link?i.pag_link:".pagination-link",g=document.querySelectorAll(`${h}`),f=i.active_class?i.active_class:"active",v=i.bootstrap_class?i.bootstrap_class:"show",y=i.pag_tab?i.pag_link:".pagination-tab.tab-pane";g.forEach((function(e){e.classList.remove(f),e.classList.remove(v)})),document.querySelectorAll(`${h}[href="${t}"]`).forEach((function(e){e.classList.add(f)})),document.querySelectorAll(`${y}[data-tab="${a}"]`).forEach((function(e){e.classList.remove(f)})),document.querySelectorAll(`${y}${t}`).forEach((function(e){e.classList.add(f),e.classList.add(v)}));let _=this.getAttribute("id");try{var o=p.find((e=>e.opt===_))}catch(z){console.log("No option parameters found. Creating default parameters to continue.")}var n=o||{opt:_};let b=i.url?i.url:"provide-url",$=i.url_param?i.url_param:"",w=i.osd_target?i.osd_target:"container",L=i.img_source?i.img_source:"container2",E=i.img_size?i.img_size:"500px",S=`${b}${n.dataSource}${$}`,A=`${n.dataType}_${w}_${n.pos}`,I=`${n.dataType}_${L}_${n.pos}`;document.getElementById(I)&&document.getElementById(I).remove();let N=document.getElementById(A);if(0===N.childNodes.length){N.style.height=E;let x={type:"image",url:S},B=(0,m.OpenSeadragon)({id:A,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/3.1.0/images/",tileSources:x,showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});function k(){let e="spinner_"+A;document.getElementById(e)&&document.getElementById(e).remove()}B.addHandler("open",(function(){let e=B.world.getItemAt(0);e.getFullyLoaded()?k():e.addOnceHandler("fully-loaded-change",k)}))}}}render(){let e=this.getAttribute("data-type");"string"!=typeof e&&console.log("No 'data-type' attribute in custom element pagination found!");let t=this.getAttribute("pos");"string"!=typeof t&&console.log("No 'pos' attribute in custom element pagination found!");let a=this.getAttribute("facs");"string"!=typeof a&&console.log("No 'facs' attribute in custom element pagination found!"),p.push({opt:`${e}_link_${t}`,dataType:e,dataSource:a,pos:t}),this.innerHTML=`\n            <a title="Tab ${t}"\n                class="nav-link pagination-link active"\n                data-bs-toggle="tab"\n                data-tab="paginate"\n                id="${e}_link_${t}"\n                href="#paginate-${t}"\n                style="border-radius:30px;">\n                ${t}\n            </a>\n        `}}const y=[];class _ extends HTMLElement{static get observedAttributes(){return["opt","pos"]}connectedCallback(){this.render(),this.childNodes[1].childNodes[1].addEventListener("mousedown",this.resize)}resize(){var e=!0;let t=this.getAttribute("id"),a=y.find((e=>`${e.opt}-${e.pos}`===t)),s=document.getElementById(`container-resize-${a.pos}`),o=document.getElementById(`text-resize-${a.pos}`),n=document.getElementById(`img-resize-${a.pos}`),l=document.getElementById(`${a.opt}-${a.pos}`),i=document.getElementById(`viewer-${a.pos}`),r=i.childNodes[0],c=o.childNodes[0];i.style.width=null,i.style.height=null,document.addEventListener("mousemove",(function(t){if(!e)return;let i=l.value,d=s.offsetWidth-t.clientX,u=s.offsetWidth-parseInt(i),h=window.innerWidth;parseInt(i)<h*parseFloat(a.size)-10?(o.style.maxWidth=s.offsetWidth-d+"px",n.style.maxWidth=`${d}px`,r.style.width=`${d}px`,r.style.height=`${d}px`):parseInt(i)>h*parseFloat(a.size)+10?(o.style.maxWidth=`${i}px`,c.style.width=`${i}px`,n.style.maxWidth=`${u}px`,r.style.width=`${u}px`,r.style.height=`${u}px`):parseInt(i)!==h*parseFloat(a.size)+9&&parseInt(i)!==h*parseFloat(a.size)-9||(o.style.maxWidth=100*parseFloat(a.size)+"%",c.style.width=100*parseFloat(a.size)+"%",n.style.maxWidth=100*(1-parseFloat(a.size))+"%",r.style.width=`${n.offsetWidth}px`,r.style.height=`${n.offsetHeight}px`)})),document.addEventListener("mouseup",(function(){e=!1}))}render(){let e=window.innerWidth,t=this.getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element window-resize found!");let a=this.getAttribute("pos");"string"!=typeof a&&console.log("No 'pos' attribute in custom element window-resize found!");let s=this.getAttribute("size");"string"!=typeof s&&console.log("No 'size' attribute in custom element window-resize found!"),y.push({opt:t,pos:a,size:s}),this.innerHTML=`\n            <div class="expand-wrapper text-center resize-hide">\n                <input title="change size" id="${t}-${a}" type="range" min="0" max="${e}" value="${e*parseFloat(s)}" class="slider"/>\n            </div>\n        `}}class b{fullSreen(){let e=document.getElementsByTagName("full-size")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-size found!");let t=sessionStorage.getItem("fullsize");if(t){var a=JSON.parse(t);a||alert("Please turn on cookies to display content!");let u=new URL(location.href),h=new URLSearchParams(u.search);try{var s=a.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var o=s||{opt:e},n=o.urlparam?o.urlparam:"fullscreen",i=a.active_class?a.active_class:"active",r=o.hide?o.hide:"hide-container",c=o.to_hide?o.to_hide:"fade";if(null==h.get(n)&&h.set(n,"off"),["on","off"].includes(h.get(n))||(console.log(`fullscreen=${h.get(n)} is not a selectable option.`),h.set(n,"off")),"off"==h.get(n)){[...document.querySelectorAll(`.${r}`)].forEach((t=>{t.classList.remove(c);let a=document.getElementById(e);a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"\n                               width="16"\n                               height="16"\n                               fill="currentColor"\n                               class="bi bi-fullscreen"\n                               viewBox="0 0 16 16">\n                            <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>\n                          </svg>',a.classList.remove(i),h.delete(n)}))}if("on"==h.get(n)){[...document.querySelectorAll(`.${r}`)].forEach((t=>{t.classList.add(c);let a=document.getElementById(e);a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg"\n                               width="16"\n                               height="16"\n                               fill="currentColor"\n                               class="bi bi-fullscreen-exit"\n                               viewBox="0 0 16 16">\n                            <path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>\n                          </svg>',a.classList.add(i)}))}var d=o.chg_citation?o.chg_citation:"citation-url";l({hist:!0,cit:document.getElementById(d),state:!1,href:`?${h}${location.hash}`})}}fontSize(){var e=document.getElementsByTagName("font-size")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-size found!");let t=sessionStorage.getItem("fontsize");if(t){var a=JSON.parse(t);a||alert("Please turn on cookies to display content!");let s=new URL(location.href),o=new URLSearchParams(s.search);[...a.variants?a.variants:[{opt:e}]].forEach((e=>{var t=e.urlparam?e.urlparam:"fontsize",a=e.chg_citation?e.chg_citation:"citation-url",s=document.getElementById(a);let n=e.paragraph?e.paragraph:"p",i=e.p_class?e.p_class:"yes-index",r=e.sizes?e.sizes:{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"};var c=e.css_class?e.css_class:"font-size-";if(null==o.get(t)&&o.set(t,"default"),Object.values(r).includes(o.get(t))){let a=document.querySelectorAll(`${n}.${i}`);var d="default"!==o.get(t)?c+o.get(t):o.get(t);document.getElementById(e.opt).value=d,[...a].forEach((e=>{for(let t in r)"default"!==r[t]&&e.classList.remove(c+r[t]);"default"!==d&&e.classList.add(d)}))}else console.log(`${t}=${o.get(t)} is not a selectable option.`),o.set(t,"default");"default"==o.get(t)&&o.delete(t),l({hist:!0,cit:s,state:!1,href:`?${o}${location.hash}`})}))}}fontFamily(){let e=document.getElementsByTagName("font-family")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("font_family");if(t){let a=JSON.parse(t);a||alert("Please turn on cookies to display content!");let s=new URL(location.href),o=new URLSearchParams(s.search);[...a.variants?a.variants:[{opt:e}]].forEach((e=>{var t=e.urlparam?e.urlparam:"font",a=e.chg_citation?e.chg_citation:"citation-url",s=document.getElementById(a);let n=e.paragraph?e.paragraph:"p",i=e.p_class?e.p_class:"yes-index",r=e.fonts?e.fonts:{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"};if(null==o.get(t)&&o.set(t,"default"),Object.values(r).includes(o.get(t))){let a=document.querySelectorAll(`${n}.${i}`);if("default"!==o.get(t))var c=o.get(t);else c=o.get(t);document.getElementById(e.opt).value=c,[...a].forEach((e=>{for(let t in r)"default"!==r[t]&&e.classList.remove(r[t].toLowerCase());"default"!==c&&e.classList.add(c.toLowerCase())}))}else console.log(`font=${o.get(t)} is not a selectable option.`),o.set(t,"default");"default"==o.get(t)&&o.delete(t),l({hist:!0,cit:s,state:!1,href:`?${o}${location.hash}`})}))}}viewerSwitch(){let e=document.querySelectorAll("image-switch")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("image_switch");if(t){let i=JSON.parse(t);i||alert("Please turn on cookies to display content!");let r=new URL(location.href),c=new URLSearchParams(r.search);try{var a=i.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var s=a||{opt:e},o=i.active_class?i.active_class:"active";let d=s.hide?s.hide:{hidden:!0,class_to_hide:"hide-container1",class_to_show:"show-container1",class_parent:"hide-show-wrapper",resize:"resize-hide"},u=(!d.hidden||d.hidden,d.class_to_hide?d.class_to_hide:"hide-container1"),h=d.class_to_show?d.class_to_show:"show-container1",m=d.resize?d.resize:"resize-hide";d.class_parent&&d.class_parent;var n=s.urlparam?s.urlparam:"image";let g=s.fade?s.fade:"fade",f=s.column_small?s.column_small:{class:"col-md-6",percent:"50%"},p=s.column_full?s.column_full:{class:"col-md-12",percent:"100%"},v=[f.class?f.class:"col-md-6",f.percent?f.percent:"50%"],y=[p.class?p.class:"col-md-12",p.percent?p.percent:"100%"];if(null==c.get(n)&&c.set(n,"off"),["on","off"].includes(c.get(n))||(console.log(`image=${c.get(n)} is not a selectable option.`),c.delete(n)),"on"==c.get(n)){[...document.querySelectorAll(`.${u}`)].forEach((e=>{e.classList.remove(g),e.classList.add(v[0]),e.style.maxWidth=v[1],e.classList.add(o)})),[...document.querySelectorAll(`.${h}`)].forEach((e=>{e.classList.add(v[0]),e.classList.remove(y[0]),e.style.maxWidth=v[1],e.classList.add(o)})),[...document.querySelectorAll(`.${m}`)].forEach((e=>{e.classList.remove(g)})),document.getElementById(e).classList.add(o)}if("off"==c.get(n)){[...document.querySelectorAll(`.${u}`)].forEach((e=>{e.classList.add(g),e.classList.remove(v[0]),e.style.maxWidth=y[1],e.classList.remove(o)})),[...document.querySelectorAll(`.${h}`)].forEach((e=>{e.classList.remove(v[0]),e.classList.add(y[0]),e.style.maxWidth=y[1],e.classList.remove(o)})),[...document.querySelectorAll(`.${m}`)].forEach((e=>{e.classList.add(g)})),document.getElementById(e).classList.remove(o),c.delete(n)}let _=s.chg_citation?s.chg_citation:"citation-url";l({hist:!0,cit:document.getElementById(_),state:!1,href:`?${c}${location.hash}`})}}textFeatures(){let e=sessionStorage.getItem("annotation_slider");if(e){let r=JSON.parse(e);r||alert("WARNING 1 - search_params/main: Please turn on cookies to display content.\n\n              Or check if configuration files path match data-target and data-path property.");let c=new URL(location.href),d=new URLSearchParams(c.search);try{var t=r.variants.filter((e=>!0===e.features.all))}catch(e){console.log("WARNING 2 - search_params/main: No option parameters found. Creating default \n\n           parameters to continue.")}let u=t||[{opt:"text-features",features:{all:!0,class:"all-features"}}];try{var a=r.variants.filter((e=>!1===e.features.all))}catch(e){console.log("WARNING 3 - search_params/main: No option parameters found.\n\n           Creating default parameters to continue.")}let h=document.querySelectorAll("annotation-slider");var s=[];[...h].forEach((e=>{try{var t=e.getAttribute("opt")}catch(e){console.log("WARNING 4 - search_params/main: No variants found.\n                      add custom html element <annotation-slider> to your html file.")}t.length>0&&s.push({opt:t,features:{all:!1,class:"single-feature"}})}));let m=a||s;try{var i=r.variants.filter((e=>"boolean"!=typeof e.features.all))}catch(e){console.log("WARNING 5 - search_params/main: No option parameters found.\n\n           Creating default parameters to continue.")}let g=i||[];if(g)for(let e of g)console.log(`WARNING 6 - search_params/main: Type of variant ${e} config.\n\n            "features.all" must be boolean (true or false)`);let f=r.span_element?r.span_element:{css_class:"badge-item"},p=r.active_class?r.active_class:"active",v={},y=0;[...m].forEach(((e,t)=>{let a=e.opt?e.opt:`any-feature-${t}`,s=e.features.class?e.features.class:`class-${a}`,i=e.color?e.color:`color-${a}`,r=e.html_class?e.html_class:`html-class-${a}`,c=e.css_class?e.css_class:`css-class-${a}`,u=e.opt_slider?e.opt_slider:`${a}-slider`,h=e.hide?e.hide:{hidden:!0,class:"hide"};if(null===d.get(a))if(!0===e.default){v.hasOwnProperty(s)?v[s]+=1:v[s]=1;let e=n(r,c,i,h,f);try{let t=document.getElementById(u);t.setAttribute("data",e),y+=parseInt(e),t.classList.add("slider-number"),t.classList.add(i),d.set(a,"on")}catch(e){console.log(`slider class ${u} not found!`)}let t=document.getElementById(a);!1===t.checked&&(t.checked=!0,t.classList.add(p))}else{o(r,c,i,h,f);try{let e=document.getElementById(u);e.classList.remove(i),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 7 - search_params/main: slider class ${u} not found!`)}let e=document.getElementById(a);!0===e.checked&&(e.checked=!1,e.classList.remove(p))}else if(["on","off"].includes(d.get(a))){if("on"===d.get(a)){v.hasOwnProperty(s)?v[s]+=1:v[s]=1;let e=n(r,c,i,h,f);try{let t=document.getElementById(u);t.setAttribute("data",e),y+=parseInt(e),t.classList.add("slider-number"),t.classList.add(i)}catch(e){console.log(`WARNING 9 - search_params/main: slider class ${u} not found!`)}let t=document.getElementById(a);!1===t.checked&&(t.checked=!0,t.classList.add(p))}else if("off"===d.get(a)){o(r,c,i,h,f);try{let e=document.getElementById(u);e.classList.remove(i),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 10 - search_params/main: slider class ${u} not found!`)}let e=document.getElementById(a);!0===e.checked&&(e.checked=!1,e.classList.remove(p)),d.delete(a)}}else{console.log(`${a}=${d.get(a)} is not a selectable option.`),d.delete(a);o(r,c,i,h,f);try{let e=document.getElementById(u);e.classList.remove(i),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 8 - search_params/main: slider class ${u} not found!`)}let e=document.getElementById(a);!0===e.checked&&(e.checked=!1,e.classList.remove(p))}let m=e.chg_citation?e.chg_citation:"citation-url";if(m)var g=document.getElementById(m);l({hist:!0,cit:g,state:!1,href:`?${d}${location.hash}`})})),[...u].forEach((e=>{let t=e.opt?e.opt:"all-features";var a=document.getElementById(t),s=e.features.class,o=m.filter((e=>e.features.class===s));v[s]===o.length?!1===a.checked&&(a.checked=!0,a.classList.add(p),a.classList.add("slider-number"),a.setAttribute("data",String(y))):!0===a.checked&&(a.checked=!1,a.classList.remove(p),a.removeAttribute("data"),a.classList.remove("slider-number"))}))}}pageUrl(){let e=sessionStorage.getItem("image_loader");if(e){let n=JSON.parse(e),r=new URL(location.href),c=new URLSearchParams(r.search);var t=n.urlparam?n.urlparam:"page",a=c.get(t);if(null==a){let e=document.querySelector("edition-pagination").getAttribute("pos");c.set(t,e),a=c.get(t)}let d=n.pag_link?n.pag_link:".pagination-link",u=n.active_class?n.active_class:"active",h=n.inactive_class?n.inactive_class:"fade",g=n.bootstrap_class?n.bootstrap_class:"show",f=n.pag_tab?n.pag_tab:".pagination-tab.tab-pane";[...document.querySelectorAll(`${f}[data-tab="paginate"]`)].forEach((function(e){e.classList.remove(u),e.classList.add(h)}));let p=document.querySelectorAll(`${d}`),v=[];if([...p].forEach((function(e){e.classList.remove(u),e.classList.remove(g);let t=e.getAttribute("id");if(t){let e=t.split("_"),a=e[e.length-1];v.push(a)}})),!v.includes(a)){let e=document.querySelector("edition-pagination").getAttribute("pos");console.log(`${t}=${a} is not a selectable option.`),c.set(t,e),a=c.get(t)}let y=document.getElementById(`paginate-${a}`);y.classList.remove(h),y.classList.add(u),y.classList.add(g),[...document.querySelectorAll(`${d}[href="#paginate-${a}"]`)].forEach((function(e){e.classList.add(u),e.classList.add(g)}));try{var s=n.img_types}catch(e){console.log("Hide object not found. Creating default parameters.")}let _=s||["type1","type2"],b=n.osd_target?n.osd_target:"container",$=n.img_source?n.img_source:"container2",w=(n.img_size&&n.img_size,0);for(;w<_.length;){if(document.getElementById(`${_[w]}_${b}_${a}`))var o=_[w];w++}let L=`${o}_${b}_${a}`,E=`${o}_${$}_${a}`,S=document.getElementById(L),A=document.getElementById(E),I=document.getElementById(`img-resize-${a}`),N=document.getElementById(`text-resize-${a}`).offsetHeight;if(A&&!I.classList.contains("fade")){S.style.height=`${N}px`;let e={type:"image",url:document.getElementById(`${o}_img_${a}`).getAttribute("data-src")},t=(0,m.OpenSeadragon)({id:L,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/images/",tileSources:e,showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});A.remove(),t.addHandler("open",(function(){let e=t.world.getItemAt(0);e.getFullyLoaded()?i(L):e.addOnceHandler("fully-loaded-change",(function(){let e="spinner_"+L;document.getElementById(e)&&document.getElementById(e).remove()}))}))}let z=n.chg_citation?n.chg_citation:"citation-url";l({hist:!0,cit:document.getElementById(z),state:!1,href:`?${c}${location.hash}`})}}multiLanguage(){const e=sessionStorage.getItem("multi_language");if(e){const h=JSON.parse(e);var t=new URL(document.location.href),a=new URLSearchParams(t.search),s=h.active_class?h.active_class:"lang_active",o=[];for(let e of h.variants)o.push(e.opt);if(null==a.get("lang")){var n=navigator.language,i=o.includes(n.split("-")[0])?n.split("-")[0]:"en";a.set("lang",i)}else if(o.includes(a.get("lang")))i=a.get("lang");else{a.set("lang","en");var i="en";console.log("lang urlparameter does not fit webpage configuration.\n                    set to default language.")}try{var r=h.variants.filter((e=>e.opt!==i))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var c=r||[{opt:i}];try{var d=h.variants.find((e=>e.opt===i))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}let m=d||{opt:i};m||console.log("No variant found! Please define a variant object that contains                   and 'opt' key holding a string value that matches the 'opt' value of custom                   element 'annotation#slider'."),[...c].forEach((e=>{document.getElementById(`ml_${e.opt}`).classList.remove(s)})),document.getElementById(`ml_${m.opt}`).classList.add(s);var u=m.map?m.map:{"index.html":"index-en.html"};if(u){let e=location.pathname.split("/"),t=3==e.length&&e[2].length>0?u[e[2]]:2==e.length&&e[1].length>0?u[e[1]]:u["index.html"];if(t){l({hist:!0,state:{lang:m.opt},href:`${t}?${a}${location.hash}`})}}}}}class $ extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[1].addEventListener("click",this.multiLanguage)}multiLanguage(){let e=sessionStorage.getItem("multi_language");if(e){let s=JSON.parse(e),o=new URL(window.location.href),n=new URLSearchParams(o.search),i=this.getAttribute("id").split("ml_")[1];i||console.log("ID of multi language custom child element not found.                 Make sure the annotation-slider element holds the attribute 'opt' with                 a defined string value.");try{var t=s.variants.find((e=>e.opt===i))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}let r=t||{opt:i};r||console.log("No variant found! Please define a variant object that contains                 and 'opt' key holding a string value that matches the 'opt' value of custom                 element 'annotation#slider'.");var a=r.map?r.map:{"index.html":"index-en.html"};if(n.set("lang",r.opt),a){let e=location.pathname.split("/"),t=3==e.length&&e[2].length>0?a[e[2]]:2==e.length&&e[1].length>0?a[e[1]]:a["index.html"];if(t){return l({hist:!0,state:{lang:r.opt},href:`${t}?${n}${location.hash}`}),location.reload(),!1}}}}render(){let e=sessionStorage.getItem("multi_language"),t=JSON.parse(e),a=this.getAttribute("opt");"string"!=typeof a&&console.log("No 'opt' attribute in custom element font-family found!");try{var s=t.variants.find((e=>e.opt===a))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var o=s||{opt:a};let n=o.title?o.title:"English",l=o.class?o.class:"nav-link pointer";this.innerHTML=`\n        <a id="ml_${o.opt}" class="${l}">${n}</a>\n      `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[1].removeEventListener("click",this.multiLanguage)}}e=a.hmd(e);e.exports=class{constructor(e){if(e&&"aot"in e&&(this.aot=e.aot),e&&"fs"in e&&(this.fs=e.fs),e&&"fos"in e&&(this.fos=e.fos),e&&"ff"in e&&(this.ff=e.ff),e&&"is"in e&&(this.is=e.is,console.log("Warning 001: ImageSwitch parameter 'is' requires OpenSeadragon library: https://openseadragon.github.io/")),e&&"il"in e&&(this.il=e.il,console.log("Warning 002: ImageLoader parameter 'il' requires OpenSeadragon library: https://openseadragon.github.io/")),e&&"ep"in e&&(this.ep=e.ep,console.log("Warning 003: Edition Pagination parameter 'ep' requires OpenSeadragon library: https://openseadragon.github.io/")),e&&"wr"in e&&!0===e.wr&&(this.wr=e.wr),e&&"up"in e&&!0===e.up&&(this.up=e.up,this.upc=new b),e&&"lang"in e&&(this.lang=e.lang),"object"==typeof this.aot){[...this.aot.variants].forEach((e=>{e.custom_function instanceof Function&&(e.custom_function=e.custom_function.toString())}));try{new s("annotation_slider",this.aot).build()}catch(e){console.log(e)}}if("object"==typeof this.fs)try{new s("fullsize",this.fs).build()}catch(e){console.log(e)}if("object"==typeof this.fos)try{new s("fontsize",this.fos).build()}catch(e){console.log(e)}if("object"==typeof this.ff)try{new s("font_family",this.ff).build()}catch(e){console.log(e)}if("object"==typeof this.il)try{new s("image_loader",this.il).build()}catch(e){console.log(e)}if("object"==typeof this.is)try{new s("image_switch",this.is).build()}catch(e){console.log(e)}if("object"==typeof this.ep)try{new s("ed_pagination",this.ep).build()}catch(e){console.log(e)}if("object"==typeof this.lang)try{new s("multi_language",this.lang).build()}catch(e){console.log(e)}if(this.ep)try{window.customElements.define("edition-pagination",v)}catch(e){console.log(e)}if(this.aot)try{window.customElements.define("annotation-slider",c),this.up&&(window.onload=this.upc.textFeatures())}catch(e){console.log(e)}if(this.fs)try{window.customElements.define("full-size",d),this.up&&(window.onload=this.upc.fullSreen())}catch(e){console.log(e)}if(this.fos)try{window.customElements.define("font-size",u),this.up&&(window.onload=this.upc.fontSize())}catch(e){console.log(e)}if(this.ff)try{window.customElements.define("font-family",h),this.up&&(window.onload=this.upc.fontFamily())}catch(e){console.log(e)}if(this.wr)try{window.customElements.define("window-resize",_)}catch(e){console.log(e)}if(this.is)try{window.customElements.define("image-switch",g),this.up&&(window.onload=this.upc.viewerSwitch())}catch(e){console.log(e)}if(this.il)try{window.customElements.define("image-loader",f),this.up&&(window.onload=this.upc.pageUrl())}catch(e){console.log(e)}if(this.lang)try{window.customElements.define("multi-language",$),this.up&&(window.onload=this.upc.multiLanguage())}catch(e){console.log(e)}window.onpopstate=()=>{if(this.aot&&this.up)try{this.upc.textFeatures()}catch(e){console.log(e)}if(this.fs&&this.up)try{this.upc.fullSreen()}catch(e){console.log(e)}if(this.fos&&this.up)try{this.upc.fontSize()}catch(e){console.log(e)}if(this.ff&&this.up)try{this.upc.fontFamily()}catch(e){console.log(e)}if(this.is&&this.up)try{this.upc.viewerSwitch()}catch(e){console.log(e)}if(this.il&&this.up)try{this.upc.pageUrl()}catch(e){console.log(e)}if(this.lang&&this.up)try{this.upc.multiLanguage()}catch(e){console.log(e)}},window.onload=()=>{if(""==window.location.hash)return!1;var e=document.querySelector(window.location.hash);null!==e&&(e.scrollIntoView({behavior:"smooth"}),e.style.backgroundColor="#FFFCA1",setTimeout((function(){e.style.backgroundColor="transparent"}),1e4))}}}}],t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var n=t[s]={id:s,loaded:!1,exports:{}};return e[s](n,n.exports,a),n.loaded=!0,n.exports}a.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s=a(0);LoadEditor=s})();
//# sourceMappingURL=de-editor.min.js.map