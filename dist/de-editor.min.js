var LoadEditor;(()=>{var e=[(e,t,a)=>{"use strict";function o(e,t,a,o,s){var n=document.querySelectorAll(`.${e}`);if(n.forEach((e=>{t instanceof Object?t.forEach((t=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})):e.classList.remove(t),e.classList.remove(a),e.classList.add(s.css_class)})),o){try{var l=o.hidden}catch(e){console.log(`aot hide.hidden not found ${e}`);l=!1}try{var i=o.class}catch(e){console.log(`aot hide.hidden not found ${e}`);i=""}if(l&&i){document.querySelectorAll(`.${i}`).forEach((e=>{e.style.display="none"}))}}return String(n.length)}function s(e,t,a,o,s){var n=document.querySelectorAll(`.${e}`);if(n.forEach((e=>{t instanceof Object?t.forEach((t=>{e.classList.contains(t)?e.classList.remove(t):e.classList.add(t)})):e.classList.add(t),e.classList.add(a),e.classList.add(s.css_class)})),o){try{var l=o.hidden}catch(e){console.log(`aot hide.hidden not found ${e}`);l=!1}try{var i=o.class}catch(e){console.log(`aot hide.hidden not found ${e}`);i=""}if(l&&i){document.querySelectorAll(`.${i}`).forEach((e=>{e.style.display="inline"}))}}return String(n.length)}function n(e){e.hist&&window.history.replaceState({},"",e.href),e.state&&window.history.pushState(e.state,"",e.href),e.cit&&(e.cit.innerHTML=`${location.hostname}${location.pathname}${e.href}`,e.cit.setAttribute("href",e.href))}function l(e){let t="spinner_"+e;null!==document.getElementById(t)&&document.getElementById(t).remove()}function i(e,t){return e||t}a.r(t),a.d(t,{addMarkup:()=>s,hideLoading:()=>l,paramCheck:()=>i,removeMarkup:()=>o,uptState:()=>n})},(e,t,a)=>{"use strict";a.r(t)},e=>{"use strict";e.exports=OpenSeadragon},(e,t,a)=>{const{SetDataCookie:o}=a(4),{AnnotationType:s}=a(1);e.exports=class{constructor(e){if(e&&"aot"in e){this.aot=e.aot;var{AnnotationSlider:t}=a(5)}if(e&&"fs"in e){this.fs=e.fs;var{FullSize:s}=a(6)}if(e&&"fos"in e){this.fos=e.fos;var{FontSize:n}=a(7)}if(e&&"ff"in e){this.ff=e.ff;var{FontFamily:l}=a(8)}if(e&&"is"in e){this.is=e.is,console.log("Warning 001: ImageSwitch parameter 'is' requires OpenSeadragon library: https://openseadragon.github.io/");var{ImageSwitch:i}=a(9)}if(e&&"il"in e){this.il=e.il,console.log("Warning 002: ImageLoader parameter 'il' requires OpenSeadragon library: https://openseadragon.github.io/");var{ImageLoader:r}=a(10)}if(e&&"ep"in e){this.ep=e.ep,console.log("Warning 003: Edition Pagination parameter 'ep' requires OpenSeadragon library: https://openseadragon.github.io/");var{EditionPagination:c}=a(11)}if(e&&"wr"in e&&!0===e.wr){this.wr=e.wr;var{WindowResize:d}=a(12)}if(e&&"up"in e&&!0===e.up){this.up=e.up;var{UrlSearchParamUpdate:u}=a(13);this.upc=new u}if(e&&"lang"in e){this.lang=e.lang;var{MultiLanguage:h}=a(14)}if(this.aot){[...this.aot.variants].forEach((e=>{e.custom_function instanceof Function&&(e.custom_function=e.custom_function.toString())}));try{new o("annotation_slider",this.aot).build()}catch(e){console.log(e)}}if(this.fs)try{new o("fullsize",this.fs).build()}catch(e){console.log(e)}if(this.fos)try{new o("fontsize",this.fos).build()}catch(e){console.log(e)}if(this.ff)try{new o("font_family",this.ff).build()}catch(e){console.log(e)}if(this.il)try{new o("image_loader",this.il).build()}catch(e){console.log(e)}if(this.is)try{new o("image_switch",this.is).build()}catch(e){console.log(e)}if(this.ep)try{new o("ed_pagination",this.ep).build()}catch(e){console.log(e)}if(this.lang)try{new o("multi_language",this.lang).build()}catch(e){console.log(e)}if(this.ep)try{window.customElements.define("edition-pagination",c)}catch(e){console.log(e)}if(this.aot)try{window.customElements.define("annotation-slider",t),this.up&&(window.onload=this.upc.textFeatures())}catch(e){console.log(e)}if(this.fs)try{window.customElements.define("full-size",s),this.up&&(window.onload=this.upc.fullSreen())}catch(e){console.log(e)}if(this.fos)try{window.customElements.define("font-size",n),this.up&&(window.onload=this.upc.fontSize())}catch(e){console.log(e)}if(this.ff)try{window.customElements.define("font-family",l),this.up&&(window.onload=this.upc.fontFamily())}catch(e){console.log(e)}if(this.wr)try{window.customElements.define("window-resize",d)}catch(e){console.log(e)}if(this.is)try{window.customElements.define("image-switch",i),this.up&&(window.onload=this.upc.viewerSwitch())}catch(e){console.log(e)}if(this.il)try{window.customElements.define("image-loader",r),this.up&&(window.onload=this.upc.pageUrl())}catch(e){console.log(e)}if(this.lang)try{window.customElements.define("multi-language",h),this.up&&(window.onload=this.upc.multiLanguage())}catch(e){console.log(e)}window.onpopstate=()=>{if(this.aot&&this.up)try{this.upc.textFeatures()}catch(e){console.log(e)}if(this.fs&&this.up)try{this.upc.fullSreen()}catch(e){console.log(e)}if(this.fos&&this.up)try{this.upc.fontSize()}catch(e){console.log(e)}if(this.ff&&this.up)try{this.upc.fontFamily()}catch(e){console.log(e)}if(this.is&&this.up)try{this.upc.viewerSwitch()}catch(e){console.log(e)}if(this.il&&this.up)try{this.upc.pageUrl()}catch(e){console.log(e)}if(this.lang&&this.up)try{this.upc.multiLanguage()}catch(e){console.log(e)}},window.onload=()=>{if(""==window.location.hash)return!1;var e=document.querySelector(window.location.hash);null!==e&&(e.scrollIntoView({behavior:"smooth"}),e.style.backgroundColor="#FFFCA1",setTimeout((function(){e.style.backgroundColor="transparent"}),1e4))}}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{SetDataCookie:()=>o});class o{constructor(e,t){this.name=e,this.config=t}build(){sessionStorage.setItem(this.name,JSON.stringify(this.config))}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{AnnotationSlider:()=>r});const{addMarkup:o,removeMarkup:s,uptState:n,paramCheck:l}=a(0),{AnnotationType:i}=a(1);class r extends HTMLElement{static get observedAttributes(){return["opt","onclick"]}connectedCallback(){this.render(),this.childNodes[3].childNodes[1].addEventListener("click",this.textFeatures)}textFeatures(){let e=sessionStorage.getItem("annotation_slider");if(e){let A=JSON.parse(e),N=new URL(window.location.href),z=new URLSearchParams(N.search),k=this.getAttribute("id");k||console.log("Error 001 in component annotation slider:           ID of annotation slider custom child element not found.           Make sure the annotation-slider element holds the attribute 'opt' with           a defined string value.");try{var t=A.variants.find((e=>e.opt===k))}catch(e){console.log("Error 002 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}let x=l(t,{opt:k,features:{all:!1,class:"single-feature"}});x||console.log("Error 003 in component annotation slider:          No variant found! Please define a variant object that contains                 and 'opt' key holding a string value that matches the 'opt' value of custom                 element 'annotation#slider'.");try{var a=x.features}catch(e){console.log("Message 004 in component annotation slider:          Features object in variant not found. Creating default parameters.")}var i=l(a,{all:!1,class:"single-feature"});try{var r=A.variants.filter((e=>!1===e.features.all))}catch(e){console.log("Message 005 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}var c=l(r,[{opt:k,features:{all:!1,class:"single-feature"}}]);try{var d=A.variants.filter((e=>!0===e.features.all))}catch(e){console.log("Message 006 in component annotation slider:          No option parameters found. Creating default parameters to continue.")}var u=l(d,{opt:"text-features",features:{all:!0,class:"features-1"}});try{var h=A.span_element}catch(e){console.log("Message 007 in component annotation slider:        style obj not found. Creating default parameters.")}var m=l(h,{css_class:"badge-item"}),g=l(A.active_class,"active"),f=i.all,p=i.class;if(!0===f)if(this.classList.contains(g))this.classList.remove(g),c.forEach((e=>{if(!0===document.getElementById(e.opt).checked&&e.features.class===p){var t=l(e.color,`color-${e.opt}`);let o=l(e.html_class,`html-class-${e.opt}`),n=l(e.css_class,`css-class-${e.opt}`),i=l(e.hide,!1);s(o,n,t,i,m);var a=l(e.opt_slider,`${e.opt}-slider`);try{let e=document.getElementById(a);e.classList.remove(t),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`Error 008 in component annotation slider:                 slider class ${a} not found!`)}document.getElementById(e.opt).checked=!1,document.getElementById(e.opt).classList.remove(g),z.delete(e.opt)}})),this.removeAttribute("data"),this.classList.remove("slider-number");else{var v=0;this.classList.add(g),c.forEach((e=>{if(!1===document.getElementById(e.opt).checked&&e.features.class===p){var t=l(e.color,`color-${e.opt}`);let n=l(e.html_class,`html-class-${e.opt}`),i=l(e.css_class,`css-class-${e.opt}`),r=l(e.hide,!1);var a=o(n,i,t,r,m),s=l(e.opt_slider,`${e.opt}-slider`);try{let e=document.getElementById(s);e.classList.add(t),e.setAttribute("data",a),e.classList.add("slider-number")}catch(e){console.log(`Message 009 in component annotation slider:                   slider class ${s} not found!`)}document.getElementById(e.opt).checked=!0,document.getElementById(e.opt).classList.add(g),z.set(e.opt,"on"),v+=parseInt(a)}})),this.setAttribute("data",String(v)),this.classList.add("slider-number")}else if("boolean"!=typeof f)console.log('Error 010 in component annotation slider:           Type of variant config. "features.all" must be Boolean (true or false)');else{var y=l(x.color,`color-${x.opt}`),$=l(x.html_class,`html-class-${x.opt}`),b=l(x.css_class,`css-class-${x.opt}`),w=l(x.hide,!1),L=l(x.opt_slider,`${x.opt}-slider`);if(this.classList.contains(g)){this.classList.remove(g);s($,b,y,w,m);try{let e=document.getElementById(L);e.classList.remove(y),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`Error 011 in component annotation slider:             slider class ${L} not found!`)}this.classList.remove(y),z.delete(x.opt)}else{this.classList.add(g);let e=o($,b,y,w,m);try{let t=document.getElementById(L);t.classList.add(y),t.setAttribute("data",e),t.classList.add("slider-number")}catch(e){console.log(`Error 012 in component annotation slider:             slider class ${L} not found!`)}this.classList.add(y),z.set(x.opt,"on")}var _=u.find((e=>e.features.class===i.class));if(_ instanceof Object){let e=document.querySelectorAll(`input.${i.class}[aot-type="false"]:checked`),t=c.filter((e=>!1===e.features.all&&e.features.class===i.class));e.length===t.length?(document.getElementById(_.opt).checked=!0,document.getElementById(_.opt).classList.add(g)):(document.getElementById(_.opt).checked=!1,document.getElementById(_.opt).classList.remove(g))}}var E={[x.opt]:"on/off"},S=l(x.chg_citation,"citation-url"),I=document.getElementById(S);let C=`?${z}${location.hash}`;n({hist:!1,cit:I,state:E,href:C})}}render(){let e="annotation_slider",t=sessionStorage.getItem(e),a=JSON.parse(t),o=this.getAttribute("opt");"string"!=typeof o&&console.log("Error 013 in component annotation slider:       No 'opt' attribute in custom element font-family found!");var s=this.getAttribute("onclick");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("Message 014 in component annotation slider:         No option parameters found. Creating default parameters to continue.")}var i=l(n,{opt:o,features:{class:"features-1",all:!1}});try{var r=i.features}catch(e){console.log("Message 015 in component annotation slider:         Features object in variant not found. Creating default parameters.")}let c=l(r,{all:!1,class:"feature-1"}),d=l(i.title,"Text Feature"),u=l(i.opt_slider,`${o}-slider`);try{var h=a.rendered_element}catch(e){console.log("Message 017 in component annotation slider:       Hide object not found. Creating default parameters.")}let m=l(h,{label_class:"switch",slider_class:"i-slider round"}),g=l(m.label_class,"switch"),f=l(m.slider_class,"i-slider round");this.innerHTML=`\n            <label>${d}</label>\n            <label class="${g}">\n                <input title="${d}"\n                    onclick="${s}"\n                    type="checkbox"\n                    id="${o}"\n                    data-target="${e}"\n                    class="${c.class}"\n                    aot-type="${String(c.all)}"/>\n                <span id="${u}" class="${f}"></span>\n            </label>\n        `}disconnectedCallback(){this.childNodes[3].childNodes[1].removeEventListener("click",this.textFeatures)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{FullSize:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("click",this.fullScreen)}fullScreen(){let e=sessionStorage.getItem("fullsize");if(e){var t=JSON.parse(e);let m=new URL(window.location.href),g=new URLSearchParams(m.search),f=this.getAttribute("id");try{var a=t.variants.find((e=>e.opt===f))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(a,{opt:f}),l=s(t.active_class,"active"),i=s(n.hide,"hide-container"),r=s(n.to_hide,"fade"),c=s(n.urlparam,"fullscreen");"off"==g.get(c)||null==g.get(c)?(g.set(c,"on"),document.querySelectorAll(`.${i}`).forEach((e=>{e.classList.add(r)})),this.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen-exit" viewBox="0 0 16 16">\n                    <path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>\n                </svg>\n            ',this.classList.remove(l)):(g.delete(c),document.querySelectorAll(`.${i}`).forEach((e=>{e.classList.remove(r)})),this.innerHTML='\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen" viewBox="0 0 16 16">\n                    <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>\n                </svg>\n            ',this.classList.add(l));var d={[s(n.opt,"edition-fullscreen")]:g.get(c)},u=s(n.chg_citation,"citation-url"),h=document.getElementById(u);let p=`?${g}${location.hash}`;o({hist:!1,cit:h,state:d,href:p})}}render(){let e="fullsize";var t=JSON.parse(sessionStorage.getItem(e));let a=this.getAttribute("opt");try{var o=t.variants.find((e=>e.opt===a))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(o,{opt:a}),l=s(t.active_class,"nav-link btn btn-round"),i=s(t.render_svg,"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-fullscreen' viewBox='0 0 16 16'><path d='M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z'/></svg>"),r=s(n.title,"Full screen on/off"),c=s(n.opt,"edition-fullscreen");this.innerHTML=`\n            <small><label style="padding:.2em;">${r}:</label></small>\n            <a title="${r}"\n                style="cursor:pointer;"\n                class="${l} active"\n                id="${c}"\n                data-target="${e}">\n                ${i}\n            </a>\n        `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("click",this.fullScreen)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{FontSize:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("change",this.fontSize)}fontSize(){let e=sessionStorage.getItem("fontsize");if(e){var t=JSON.parse(e);let m=new URL(window.location.href),g=new URLSearchParams(m.search),f=this.getAttribute("id");try{var a=t.variants.find((e=>e.opt===f))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(a,{opt:f});let p=s(n.paragraph,"p"),v=s(n.p_class,"yes-index");try{var l=n.sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let y=s(l,{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"}),$=s(n.urlparam,"fontsize");var i=document.getElementById(f).value,r=s(n.css_class,"font-size-");if(g.get($)!==i.replace(r,"")){g.set($,i.replace(r,"")),document.querySelectorAll(`${p}.${v}`).forEach((e=>{for(let t in y)"default"!==y[t]&&e.classList.remove(r+y[t]);"default"!==i&&e.classList.add(i)}))}var c=n.opt;s(n.opt,"select-fontsize");var d={[c]:g.get($)},u=s(n.chg_citation,"citation-url"),h=document.getElementById(u);let b=`?${g}${location.hash}`;o({hist:!1,cit:h,state:d,href:b})}}render(){let e="fontsize",t=sessionStorage.getItem(e);var a=JSON.parse(t);let o=this.getAttribute("opt");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var l=s(n,{opt:o});try{var i=l.sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let r=s(i,{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"});var c=s(a.html_class,"custom-select"),d=s(l.css_class,"font-size-");let u=`\n            <small><label style="padding:.2em;">${s(l.title,"Font size")}:</label></small>\n            <select id="${o}" data-target="${e}" class="${c}">\n        `;for(let e in r){if("default"==r[e])var h=`<option value="default" selected='selected'>${r[e].split("-").slice(-1)} px`;else h=`<option value='${d}${r[e]}'>${r[e].split("-").slice(-1)} px`;u+=h,u+="</option>"}u+="</select>",this.innerHTML=u}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("change",this.fontSize)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{FontFamily:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("change",this.fontFamily)}fontFamily(){let e=sessionStorage.getItem("font_family");if(e){let u=JSON.parse(e),h=new URL(window.location.href),m=new URLSearchParams(h.search),g=this.getAttribute("id");try{var t=u.variants.find((e=>e.opt===g))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var a=s(t,{opt:g}),n=s(a.chg_citation,"citation-url"),l=document.getElementById(n),i=s(a.urlparam,"font");let f=s(a.paragraph,"p"),p=s(a.p_class,"yes-index");try{var r=a.fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let v=s(r,{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"});var c=document.getElementById(a.opt).value;if(m.get(i)!==c){m.set(i,c),document.querySelectorAll(`${f}.${p}`).forEach((e=>{for(let t in v)"default"!==v[t]&&e.classList.remove(v[t].toLowerCase());"default"!==c&&e.classList.add(c.toLowerCase())}))}var d={[a.opt]:m.get(i)};let y=`?${m}${location.hash}`;o({hist:!1,cit:l,state:d,href:y})}}render(){let e="font_family",t=sessionStorage.getItem(e),a=JSON.parse(t),o=this.getAttribute("opt");"string"!=typeof o&&console.log("No 'opt' attribute in custom element font-family found!");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var l=s(n,[{opt:o}]);try{var i=l.fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let r=s(i,{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"}),c=s(a.html_class,"custom-select"),d=s(l.css_class,""),u=`\n            <small><label style="padding:.2em;">${s(l.title,"Font Family")}:</label></small>\n            <select id="${o}" data-target="${e}" class="${c}">\n        `;for(let e in r){if("default"==r[e])var h=`<option value="default" selected='selected'>${r[e].replace("-"," ")}`;else h=`<option value='${d}${r[e]}'>${r[e].replace("-"," ")}`;u+=h,u+="</option>"}u+="</select>",this.innerHTML=u}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[2].removeEventListener("change",this.fontFamily)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{ImageSwitch:()=>i});const{uptState:o,paramCheck:s,hideLoading:n}=a(0),l=a(2);class i extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[3].addEventListener("click",this.viewerSwitch)}viewerSwitch(){let e=this.getAttribute("id");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("image_switch");if(t){let I=JSON.parse(t);I||alert("Please turn on cookies to display content!");let A=new URL(location.href),N=new URLSearchParams(A.search);try{var a=I.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var i=s(a,{opt:e}),r=s(I.active_class,"active");try{var c=i.hide}catch(e){console.log("Hide object not found. Creating default parameters.")}let z=s(c,{hidden:!0,class_to_hide:"hide-container1",class_to_show:"show-container1",class_parent:"hide-show-wrapper",resize:"resize-hide"}),k=(s(z.hidden,!0),s(z.class_to_hide,"hide-container1")),x=s(z.class_to_show,"show-container1"),C=s(z.resize,"resize-hide"),B=s(z.class_parent,"hide-show-wrapper");var d=s(i.urlparam,"image");let M=s(i.fade,"fade");try{var u=i.column_small}catch(e){console.log("Hide object not found. Creating default parameters.")}let T=s(u,{class:"col-md-6",percent:"50"});try{var h=i.column_full}catch(e){console.log("Hide object not found. Creating default parameters.")}let H=s(h,{class:"col-md-12",percent:"100"}),R=[s(T.class,"col-md-6"),s(T.percent,"50")],F=[s(H.class,"col-md-12"),s(H.percent,"100")];if("on"==N.get(d))N.set(d,"off"),document.querySelectorAll(`.${k}`).forEach((e=>{e.classList.add(M),e.classList.remove(R[0]),e.style.maxWidth=`${F[1]}%`,e.classList.remove(r)})),document.querySelectorAll(`.${x}`).forEach((e=>{e.classList.remove(R[0]),e.classList.add(F[0]),e.style.maxWidth=`${F[1]}%`,e.classList.remove(r)})),document.querySelectorAll(`.${C}`).forEach((e=>{e.classList.add(M)})),this.classList.remove(r);else{if(N.set(d,"on"),document.querySelectorAll(`.${k}`).forEach((e=>{e.classList.remove(M),e.classList.add(R[0]),e.style.maxWidth=`${R[1]}%`,e.classList.add(r)})),document.querySelectorAll(`.${x}`).forEach((e=>{e.classList.add(R[0]),e.classList.remove(F[0]),e.style.maxWidth=parseInt(F[1])-parseInt(R[1])+"%",e.classList.add(r)})),document.querySelectorAll(`.${C}`).forEach((e=>{e.classList.remove(M)})),document.getElementsByClassName("openseadragon-container")[0]){try{var m=document.querySelector(`.${B}.${r} .${k}`)}catch(e){console.log(`HTML class elements .${B}.${r} .${k} not found. Please make sure your HTML site contains them.`)}try{var g=m.querySelectorAll("*")[0],f=g.childNodes[0];g.style.width=`${m.offsetWidth}px`,g.style.height=`${m.offsetHeight}px`,f.style.width=m.offsetWidth-25+"px",f.style.height=`${m.offsetHeight}px`}catch(e){console.log(`HTML class elements .${B}.${r} .${k} not found. Please make sure your HTML site contains them.`)}}else{var p=document.querySelectorAll("image-loader"),v=p[0].getAttribute("data-type"),y=p[0].getAttribute("pos"),$=document.getElementById(`${v}_img_${y}`),b=`${v}_container_${y}`,w=document.getElementById(b),L=document.getElementById(`${v}_container2_${y}`),_=document.getElementById(`text-resize-${y}`).offsetHeight,E=document.getElementById(`img-resize-${y}`).offsetWidth;w.style.height=`${_}px`,w.style.width=E-25+"px";let e=$.getAttribute("data-src"),t=l({id:b,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/images/",tileSources:{type:"image",url:e},showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});L.remove(),t.addHandler("open",(function(){let e=t.world.getItemAt(0);e.getFullyLoaded()?n(b):e.addOnceHandler("fully-loaded-change",(function(){let e="spinner_"+b;document.getElementById(e)&&document.getElementById(e).remove()}))}))}this.classList.add(r)}var S={[i.opt]:N.get(i.opt)};let q=s(i.chg_citation,"citation-url"),W=document.getElementById(q),O=`?${N}${location.hash}`;o({hist:!1,cit:W,state:S,href:O})}}render(){let e="image_switch",t=sessionStorage.getItem(e),a=JSON.parse(t),o=this.getAttribute("opt");"string"!=typeof o&&console.log("No 'opt' attribute in custom element font-family found!");try{var n=a.variants.find((e=>e.opt===o))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var l=s(n,{opt:o});try{var i=a.rendered_element}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let r=s(i,{a_class:"nav-link btn btn-round",svg:"<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='currentColor' class='bi bi-image' viewBox='0 0 16 16'><path d='M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z'/><path d='M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z'/></svg>"}),c=s(a.active_class,"active"),d=s(l.title,"Facsimile on/off");this.innerHTML=`\n            <small><label style="padding:.2em;">${d}:</label></small>\n            <a title="${d}"\n                class="${r.a_class} ${c}"\n                id="${l.opt}"\n                data-target="${e}">\n                ${r.svg}\n            </a>\n        `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[3].removeEventListener("click",this.viewerSwitch)}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{ImageLoader:()=>s});const{paramCheck:o}=a(0);class s extends HTMLElement{static get observedAttributes(){return["opt","data-type","data-source","pos"]}connectedCallback(){this.render()}render(){let e=sessionStorage.getItem("image_loader"),t=JSON.parse(e),a=o(t.url,"provide-url"),s=o(t.url_param,"provide-url-params (optional)"),n=this.getAttribute("pos");"string"!=typeof n&&console.log("No 'opt' attribute in custom element font-family found!");let l=this.getAttribute("data-type");"string"!=typeof l&&console.log("No 'opt' attribute in custom element font-family found!");let i=this.getAttribute("data-source");"string"!=typeof i&&console.log("No 'opt' attribute in custom element font-family found!"),this.innerHTML=`\n            <span id="${l}_img_${n}" data-src="${a}${i}${s}">Enable JavaScript to load image!</span>\n        `}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{EditionPagination:()=>i});const o=a(2),{uptState:s,paramCheck:n}=a(0),l=[];class i extends HTMLElement{static get observedAttributes(){return["opt","pos","facs","data-type"]}connectedCallback(){this.render(),this.childNodes[1].addEventListener("click",this.updateImgPage)}updateImgPage(){let e=sessionStorage.getItem("ed_pagination");if(e){let d=JSON.parse(e),u=new URL(window.location.href),h=new URLSearchParams(u.search);var t=this.getAttribute("href");"string"!=typeof t&&console.log("No 'href' attribute in custom element pagination found!");var a=this.getAttribute("data-tab");"string"!=typeof t&&console.log("No 'data-tab' attribute in custom element pagination found!");let m=n(d.urlparam,"page");h.set(m,t.replace(/[^0-9]+/,""));var i={[m]:t.replace(/[^0-9]+/,"")};let g=n(d.chg_citation,"citation-url"),f=document.getElementById(g),p=`?${h}${location.hash}`;s({hist:!1,cit:f,state:i,href:p});let v=n(d.pag_link,".pagination-link"),y=document.querySelectorAll(`${v}`),$=n(d.active_class,"active"),b=n(d.bootstrap_class,"show"),w=n(d.pag_tab,".pagination-tab.tab-pane");y.forEach((function(e){e.classList.remove($),e.classList.remove(b)})),document.querySelectorAll(`${v}[href="${t}"]`).forEach((function(e){e.classList.add($)})),document.querySelectorAll(`${w}[data-tab="${a}"]`).forEach((function(e){e.classList.remove($)})),document.querySelectorAll(`${w}${t}`).forEach((function(e){e.classList.add($),e.classList.add(b)}));let L=this.getAttribute("id");try{var r=l.find((e=>e.opt===L))}catch(C){console.log("No option parameters found. Creating default parameters to continue.")}var c=n(r,{opt:L});let _=n(d.url,"provide-url"),E=n(d.url_param,""),S=n(d.osd_target,"container"),I=n(d.img_source,"container2"),A=n(d.img_size,"500px"),N=`${_}${c.dataSource}${E}`,z=`${c.dataType}_${S}_${c.pos}`,k=`${c.dataType}_${I}_${c.pos}`;document.getElementById(k)&&document.getElementById(k).remove();let x=document.getElementById(z);if(0===x.childNodes.length){x.style.height=A;let B=o({id:z,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/3.1.0/images/",tileSources:{type:"image",url:N},showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});function M(){let e="spinner_"+z;document.getElementById(e)&&document.getElementById(e).remove()}B.addHandler("open",(function(){let e=B.world.getItemAt(0);e.getFullyLoaded()?M():e.addOnceHandler("fully-loaded-change",M)}))}}}render(){let e=this.getAttribute("data-type");"string"!=typeof e&&console.log("No 'data-type' attribute in custom element pagination found!");let t=this.getAttribute("pos");"string"!=typeof t&&console.log("No 'pos' attribute in custom element pagination found!");let a=this.getAttribute("facs");"string"!=typeof a&&console.log("No 'facs' attribute in custom element pagination found!"),l.push({opt:`${e}_link_${t}`,dataType:e,dataSource:a,pos:t}),this.innerHTML=`\n            <a title="Tab ${t}"\n                class="nav-link pagination-link active"\n                data-toggle="tab"\n                data-tab="paginate"\n                id="${e}_link_${t}"\n                href="#paginate-${t}"\n                style="border-radius:30px;">\n                ${t}\n            </a>\n        `}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{WindowResize:()=>s});const o=[];class s extends HTMLElement{static get observedAttributes(){return["opt","pos"]}connectedCallback(){this.render(),this.childNodes[1].childNodes[1].addEventListener("mousedown",this.resize)}resize(){var e=!0;let t=this.getAttribute("id"),a=o.find((e=>`${e.opt}-${e.pos}`===t)),s=document.getElementById(`container-resize-${a.pos}`),n=document.getElementById(`text-resize-${a.pos}`),l=document.getElementById(`img-resize-${a.pos}`),i=document.getElementById(`${a.opt}-${a.pos}`),r=document.getElementById(`viewer-${a.pos}`),c=r.childNodes[0],d=n.childNodes[0];r.style.width=null,r.style.height=null,document.addEventListener("mousemove",(function(t){if(!e)return;let o=i.value,r=s.offsetWidth-t.clientX,u=s.offsetWidth-parseInt(o),h=window.innerWidth;parseInt(o)<h*parseFloat(a.size)-10?(n.style.maxWidth=s.offsetWidth-r+"px",l.style.maxWidth=`${r}px`,c.style.width=`${r}px`,c.style.height=`${r}px`):parseInt(o)>h*parseFloat(a.size)+10?(n.style.maxWidth=`${o}px`,d.style.width=`${o}px`,l.style.maxWidth=`${u}px`,c.style.width=`${u}px`,c.style.height=`${u}px`):parseInt(o)!==h*parseFloat(a.size)+9&&parseInt(o)!==h*parseFloat(a.size)-9||(n.style.maxWidth=100*parseFloat(a.size)+"%",d.style.width=100*parseFloat(a.size)+"%",l.style.maxWidth=100*(1-parseFloat(a.size))+"%",c.style.width=`${l.offsetWidth}px`,c.style.height=`${l.offsetHeight}px`)})),document.addEventListener("mouseup",(function(){e=!1}))}render(){let e=window.innerWidth,t=this.getAttribute("opt");"string"!=typeof t&&console.log("No 'opt' attribute in custom element window-resize found!");let a=this.getAttribute("pos");"string"!=typeof a&&console.log("No 'pos' attribute in custom element window-resize found!");let s=this.getAttribute("size");"string"!=typeof s&&console.log("No 'size' attribute in custom element window-resize found!"),o.push({opt:t,pos:a,size:s}),this.innerHTML=`\n            <div class="expand-wrapper text-center resize-hide">\n                <input title="change size" id="${t}-${a}" type="range" min="0" max="${e}" value="${e*parseFloat(s)}" class="slider"/>\n            </div>\n        `}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{UrlSearchParamUpdate:()=>c});const{addMarkup:o,removeMarkup:s,uptState:n,hideLoading:l,paramCheck:i}=a(0),{AnnotationType:r}=a(1);class c{fullSreen(){let e=document.getElementsByTagName("full-size")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-size found!");let t=sessionStorage.getItem("fullsize");if(t){var a=JSON.parse(t);a||alert("Please turn on cookies to display content!");let m=new URL(location.href),g=new URLSearchParams(m.search);try{var o=a.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var s=i(o,{opt:e}),l=i(s.urlparam,"fullscreen"),r=i(a.active_class,"active"),c=i(s.hide,"hide-container"),d=i(s.to_hide,"fade");null==g.get(l)&&g.set(l,"off"),["on","off"].includes(g.get(l))||(console.log(`fullscreen=${g.get(l)} is not a selectable option.`),g.set(l,"off")),"off"==g.get(l)&&document.querySelectorAll(`.${c}`).forEach((t=>{t.classList.remove(d);let a=document.getElementById(e);a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen" viewBox="0 0 16 16">\n                                            <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1h-4zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zM.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5zm15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5z"/>\n                                        </svg>\n                                    ',a.classList.remove(r),g.delete(l)})),"on"==g.get(l)&&document.querySelectorAll(`.${c}`).forEach((t=>{t.classList.add(d);let a=document.getElementById(e);a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen-exit" viewBox="0 0 16 16">\n                                            <path d="M5.5 0a.5.5 0 0 1 .5.5v4A1.5 1.5 0 0 1 4.5 6h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5zm5 0a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 10 4.5v-4a.5.5 0 0 1 .5-.5zM0 10.5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 6 11.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5zm10 1a1.5 1.5 0 0 1 1.5-1.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4z"/>\n                                        </svg>\n                                    ',a.classList.add(r)}));var u=i(s.chg_citation,"citation-url"),h=document.getElementById(u);let f=`?${g}${location.hash}`;n({hist:!0,cit:h,state:!1,href:f})}}fontSize(){var e=document.getElementsByTagName("font-size")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-size found!");let t=sessionStorage.getItem("fontsize");if(t){var a=JSON.parse(t);a||alert("Please turn on cookies to display content!");let m=new URL(location.href),g=new URLSearchParams(m.search);try{var o=a.variants}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var s=i(o,[{opt:e}]);for(let e in s){var l=i(s[e].urlparam,"fontsize"),r=i(s[e].chg_citation,"citation-url"),c=document.getElementById(r);let t=i(s[e].paragraph,"p"),a=i(s[e].p_class,"yes-index");try{var d=s[e].sizes}catch(e){console.log("Sizes obj not found. Creating default parameters.")}let o=i(d,{default:"default",font_size_14:"14",font_size_18:"18",font_size_22:"22",font_size_26:"26"});var u=i(s[e].css_class,"font-size-");if(null==g.get(l)&&g.set(l,"default"),Object.values(o).includes(g.get(l))){let n=document.querySelectorAll(`${t}.${a}`);var h="default"!==g.get(l)?u+g.get(l):g.get(l);document.getElementById(s[e].opt).value=h,n.forEach((e=>{for(let t in o)"default"!==o[t]&&e.classList.remove(u+o[t]);"default"!==h&&e.classList.add(h)}))}else console.log(`${l}=${g.get(l)} is not a selectable option.`),g.set(l,"default")}"default"==g.get(l)&&g.delete(l);let f=`?${g}${location.hash}`;n({hist:!0,cit:c,state:!1,href:f})}}fontFamily(){let e=document.getElementsByTagName("font-family")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("font_family");if(t){let u=JSON.parse(t);u||alert("Please turn on cookies to display content!");let h=new URL(location.href),m=new URLSearchParams(h.search);try{var a=u.variants}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var o=i(a,[{opt:e}]);for(let e in o){var s=i(o[e].urlparam,"font"),l=i(o[e].chg_citation,"citation-url"),r=document.getElementById(l);let t=i(o[e].paragraph,"p"),a=i(o[e].p_class,"yes-index");try{var c=o[e].fonts}catch(e){console.log("Font family object not found. Creating default parameters.")}let n=i(c,{default:"default",font1:"Times-New-Roman",font2:"Courier-New",font3:"Arial-serif"});if(null==m.get(s)&&m.set(s,"default"),Object.values(n).includes(m.get(s))){let l=document.querySelectorAll(`${t}.${a}`);if("default"!==m.get(s))var d=m.get(s);else d=m.get(s);document.getElementById(o[e].opt).value=d,l.forEach((e=>{for(let t in n)"default"!==n[t]&&e.classList.remove(n[t].toLowerCase());"default"!==d&&e.classList.add(d.toLowerCase())}))}else console.log(`font=${m.get(s)} is not a selectable option.`),m.set(s,"default")}"default"==m.get(s)&&m.delete(s);let g=`?${m}${location.hash}`;n({hist:!0,cit:r,state:!1,href:g})}}viewerSwitch(){let e=document.getElementsByTagName("image-switch")[0].getAttribute("opt");"string"!=typeof e&&console.log("No 'opt' attribute in custom element font-family found!");let t=sessionStorage.getItem("image_switch");if(t){let m=JSON.parse(t);m||alert("Please turn on cookies to display content!");let g=new URL(location.href),f=new URLSearchParams(g.search);try{var a=m.variants.find((t=>t.opt===e))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var o=i(a,{opt:e}),s=i(m.active_class,"active");try{var l=o.hide}catch(e){console.log("Hide object not found. Creating default parameters.")}let p=i(l,{hidden:!0,class_to_hide:"hide-container1",class_to_show:"show-container1",class_parent:"hide-show-wrapper",resize:"resize-hide"}),v=(i(p.hidden,!0),i(p.class_to_hide,"hide-container1")),y=i(p.class_to_show,"show-container1"),$=i(p.resize,"resize-hide"),b=i(p.class_parent,"hide-show-wrapper");var r=i(o.urlparam,"image");let w=i(o.fade,"fade");try{var c=o.column_small}catch(e){console.log("Hide object not found. Creating default parameters.")}let L=i(c,{class:"col-md-6",percent:"50%"});try{var d=o.column_full}catch(e){console.log("Hide object not found. Creating default parameters.")}let _=i(d,{class:"col-md-12",percent:"100%"}),E=[i(L.class,"col-md-6"),i(L.percent,"50%")],S=[i(_.class,"col-md-12"),i(_.percent,"100%")];if(null==f.get(r)&&f.set(r,"on"),["on","off"].includes(f.get(r))||(console.log(`image=${f.get(r)} is not a selectable option.`),f.set(r,"on")),"on"==f.get(r)&&(document.querySelectorAll(`.${v}`).forEach((e=>{e.classList.remove(w),e.classList.add(E[0]),e.style.maxWidth=E[1],e.classList.add(s)})),document.querySelectorAll(`.${y}`).forEach((e=>{e.classList.add(E[0]),e.classList.remove(S[0]),e.style.maxWidth=E[1],e.classList.add(s)})),document.querySelectorAll(`.${$}`).forEach((e=>{e.classList.remove(w)})),document.getElementById(e).classList.add(s),f.delete(r)),"off"==f.get(r)){document.querySelectorAll(`.${v}`).forEach((e=>{e.classList.add(w),e.classList.remove(E[0]),e.style.maxWidth=S[1],e.classList.remove(s)})),document.querySelectorAll(`.${y}`).forEach((e=>{e.classList.remove(E[0]),e.classList.add(S[0]),e.style.maxWidth=S[1],e.classList.remove(s)})),document.querySelectorAll(`.${$}`).forEach((e=>{e.classList.add(w)}));try{var u=document.querySelector(`.${b}.${s} .${v}`)}catch(e){console.log(`HTML class elements .${b}.${s} .${v} not found. Please make sure your HTML site contains them.`)}try{var h=u.querySelectorAll("*")[0];h.style.width=`${u.offsetWidth}px`,h.style.height=`${u.offsetHeight}px`}catch(e){console.log(`HTML class elements .${b}.${s} .${v} not found. Please make sure your HTML site contains them.`)}document.getElementById(e).classList.remove(s)}let I=i(o.chg_citation,"citation-url"),A=document.getElementById(I),N=`?${f}${location.hash}`;n({hist:!0,cit:A,state:!1,href:N})}}textFeatures(){let e=sessionStorage.getItem("annotation_slider");if(e){let m=JSON.parse(e);m||alert("WARNING 1 - search_params/main: Please turn on cookies to display content.\n\n              Or check if configuration files path match data-target and data-path property.");let g=new URL(location.href),f=new URLSearchParams(g.search);try{var t=m.variants.filter((e=>!0===e.features.all))}catch(e){console.log("WARNING 2 - search_params/main: No option parameters found. Creating default \n\n           parameters to continue.")}let p=i(t,[{opt:"text-features",features:{all:!0,class:"all-features"}}]);try{var a=m.variants.filter((e=>!1===e.features.all))}catch(e){console.log("WARNING 3 - search_params/main: No option parameters found.\n\n           Creating default parameters to continue.")}let v=document.querySelectorAll("annotation-slider");var l=[];[...v].forEach((e=>{try{var t=e.getAttribute("opt")}catch(e){console.log("WARNING 4 - search_params/main: No variants found.\n                        add custom html element <annotation-slider> to your html file.")}t&&l.push({opt:t,features:{all:!1,class:"single-feature"}})}));let y=i(a,l);try{var r=m.variants.filter((e=>"boolean"!=typeof e.features.all))}catch(e){console.log("WARNING 5 - search_params/main: No option parameters found.\n\n           Creating default parameters to continue.")}let $=i(r,[]);if($)for(let e of $)console.log(`WARNING 6 - search_params/main: Type of variant ${e} config.\n\n            "features.all" must be boolean (true or false)`);try{var c=m.span_element}catch(e){console.log("WARNING 6 - search_params/main: Hide object not found. Creating default parameters.")}let b=i(c,{css_class:"badge-item"}),w=i(b,"badge-item"),L=i(m.active_class,"active"),_=0,E=0;var d=i(p[0].opt,"text-features");for(let e in y){let t=i(y[e].opt,`any-feature-${e}`),a=i(y[e].color,`color-${t}`),n=i(y[e].html_class,`html-class-${t}`),l=i(y[e].css_class,`css-class-${t}`),r=i(y[e].opt_slider,`${t}-slider`),c=i(y[e].hide,!1);if(null===f.get(t))if(!0===y[e].default){_+=1;let e=o(n,l,a,c,w);try{let o=document.getElementById(r);o.setAttribute("data",e),E+=parseInt(e),o.classList.add("slider-number"),o.classList.add(a),f.set(t,"on")}catch(e){console.log(`slider class ${r} not found!`)}!1===document.getElementById(t).checked&&(document.getElementById(t).checked=!0,document.getElementById(t).classList.add(L))}else{s(n,l,a,c,w);try{let e=document.getElementById(r);e.classList.remove(a),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 7 - search_params/main: slider class ${r} not found!`)}!0===document.getElementById(t).checked&&(document.getElementById(t).checked=!1,document.getElementById(t).classList.remove(L))}else if(["on","off"].includes(f.get(t))){if("on"===f.get(t)){_+=1;let e=o(n,l,a,c,w);try{let t=document.getElementById(r);t.setAttribute("data",e),E+=parseInt(e),t.classList.add("slider-number"),t.classList.add(a)}catch(e){console.log(`WARNING 9 - search_params/main: slider class ${r} not found!`)}!1===document.getElementById(t).checked&&(document.getElementById(t).checked=!0,document.getElementById(t).classList.add(L))}else if("off"===f.get(t)){s(n,l,a,c,w);try{let e=document.getElementById(r);e.classList.remove(a),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 10 - search_params/main: slider class ${r} not found!`)}!0===document.getElementById(t).checked&&(document.getElementById(t).checked=!1,document.getElementById(t).classList.remove(L)),f.delete(t)}}else{console.log(`${t}=${f.get(t)} is not a selectable option.`),f.set(t,"off");s(n,l,a,c,w);try{let e=document.getElementById(r);e.classList.remove(a),e.removeAttribute("data"),e.classList.remove("slider-number")}catch(e){console.log(`WARNING 8 - search_params/main: slider class ${r} not found!`)}!0===document.getElementById(t).checked&&(document.getElementById(t).checked=!1,document.getElementById(t).classList.remove(L))}let d=i(y[e].chg_citation,"citation-url");if(d)var u=document.getElementById(d)}var h=document.getElementById(d);if(String(_)===String(y.length)){if(!1===h.checked)try{h.checked=!0,h.classList.add(L),h.classList.add("slider-number"),h.setAttribute("data",String(E))}catch(e){console.log(`WARNING 11 - search_params/main: slider class ${d} not found!`)}}else if(!0===h.checked)try{h.checked=!1,h.classList.remove(L),h.removeAttribute("data"),h.classList.remove("slider-number")}catch(e){console.log(`WARNING 12 - search_params/main: slider class ${d} not found!`)}let S=`?${f}${location.hash}`;n({hist:!0,cit:u,state:!1,href:S})}}pageUrl(){let e=sessionStorage.getItem("image_loader");var t=a(2);if(e){let a=JSON.parse(e),d=new URL(location.href),u=new URLSearchParams(d.search);var o=i(a.urlparam),s=u.get(o);null==s&&(u.set(o,"1"),s=u.get(o));let h=i(a.pag_link,".pagination-link"),m=i(a.active_class,"active"),g=i(a.inactive_class,"fade"),f=i(a.bootstrap_class,"show"),p=i(a.pag_tab,".pagination-tab.tab-pane");document.querySelectorAll(`${p}[data-tab="paginate"]`).forEach((function(e){e.classList.remove(m),e.classList.add(g)}));let v=document.querySelectorAll(`${h}`),y=[];v.forEach((function(e){e.classList.remove(m),e.classList.remove(f);let t=e.getAttribute("id");if(t){let e=t.split("_"),a=e[e.length-1];y.push(a)}})),y.includes(s)||(console.log(`${o}=${s} is not a selectable option.`),u.set(o,"1"),s=u.get(o));let $=document.getElementById(`paginate-${s}`);$.classList.remove(g),$.classList.add(m),$.classList.add(f),document.querySelectorAll(`${h}[href="#paginate-${s}"]`).forEach((function(e){e.classList.add(m),e.classList.add(f)}));try{var r=a.img_types}catch(e){console.log("Hide object not found. Creating default parameters.")}let b=i(r,["type1","type2"]),w=i(a.osd_target,"container"),L=i(a.img_source,"container2"),_=(i(a.img_size,"500px"),0);for(;_<b.length;){if(document.getElementById(`${b[_]}_${w}_${s}`))var c=b[_];_++}let E=`${c}_${w}_${s}`,S=`${c}_${L}_${s}`,I=document.getElementById(E),A=document.getElementById(S),N=document.getElementById(`img-resize-${s}`),z=document.getElementById(`text-resize-${s}`).offsetHeight;if(A&&!N.classList.contains("fade")){I.style.height=`${z}px`;let e=document.getElementById(`${c}_img_${s}`).getAttribute("data-src"),a=t({id:E,prefixUrl:"https://cdnjs.cloudflare.com/ajax/libs/openseadragon/4.0.0/images/",tileSources:{type:"image",url:e},showRotationControl:!0,gestureSettingsTouch:{pinchRotate:!0}});A.remove(),a.addHandler("open",(function(){let e=a.world.getItemAt(0);e.getFullyLoaded()?l(E):e.addOnceHandler("fully-loaded-change",(function(){let e="spinner_"+E;document.getElementById(e)&&document.getElementById(e).remove()}))}))}let k=i(a.chg_citation,"citation-url"),x=document.getElementById(k),C=`?${u}${location.hash}`;n({hist:!0,cit:x,state:!1,href:C})}}multiLanguage(){const e=sessionStorage.getItem("multi_language");if(e){const g=JSON.parse(e);var t=new URL(document.location.href),a=new URLSearchParams(t.search),o=i(g.active_class,"lang_active"),s=[];for(let e of g.variants)s.push(e.opt);if(null==a.get("lang")){var l=navigator.language,r=s.includes(l.split("-")[0])?l.split("-")[0]:"en";a.set("lang",r)}else if(s.includes(a.get("lang")))r=a.get("lang");else{a.set("lang","en");var r="en";console.log("lang urlparameter does not fit webpage configuration.\n                    set to default language.")}try{var c=g.variants.filter((e=>e.opt!==r))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var d=i(c,[{opt:r}]);try{var u=g.variants.find((e=>e.opt===r))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}let f=i(u,{opt:r});f||console.log("No variant found! Please define a variant object that contains                   and 'opt' key holding a string value that matches the 'opt' value of custom                   element 'annotation#slider'."),d.forEach((e=>{document.getElementById(`ml_${e.opt}`).classList.remove(o)})),document.getElementById(`ml_${f.opt}`).classList.add(o);var h=i(f.map,{"index.html":"index-en.html"});if(h){let e=location.pathname.split("/"),t=3==e.length&&e[2].length>0?h[e[2]]:2==e.length&&e[1].length>0?h[e[1]]:h["index.html"];if(t){var m={lang:f.opt};let e=`${t}?${a}${location.hash}`;n({hist:!0,state:m,href:e})}}}}}},(e,t,a)=>{"use strict";a.r(t),a.d(t,{MultiLanguage:()=>n});const{uptState:o,paramCheck:s}=a(0);class n extends HTMLElement{static get observedAttributes(){return["opt"]}connectedCallback(){this.render(),this.childNodes[1].addEventListener("click",this.multiLanguage)}multiLanguage(){let e=sessionStorage.getItem("multi_language");if(e){let l=JSON.parse(e),i=new URL(window.location.href),r=new URLSearchParams(i.search),c=this.getAttribute("id").split("ml_")[1];c||console.log("ID of multi language custom child element not found.                 Make sure the annotation-slider element holds the attribute 'opt' with                 a defined string value.");try{var t=l.variants.find((e=>e.opt===c))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}let d=s(t,{opt:c});d||console.log("No variant found! Please define a variant object that contains                 and 'opt' key holding a string value that matches the 'opt' value of custom                 element 'annotation#slider'.");var a=s(d.map,{"index.html":"index-en.html"});if(r.set("lang",d.opt),a){let e=location.pathname.split("/"),t=3==e.length&&e[2].length>0?a[e[2]]:2==e.length&&e[1].length>0?a[e[1]]:a["index.html"];if(t){var n={lang:d.opt};let e=`${t}?${r}${location.hash}`;return o({hist:!0,state:n,href:e}),location.reload(),!1}}}}render(){let e=sessionStorage.getItem("multi_language"),t=JSON.parse(e),a=this.getAttribute("opt");"string"!=typeof a&&console.log("No 'opt' attribute in custom element font-family found!");try{var o=t.variants.find((e=>e.opt===a))}catch(e){console.log("No option parameters found. Creating default parameters to continue.")}var n=s(o,{opt:a});let l=s(n.title,"English"),i=s(n.class,"nav-link pointer");this.innerHTML=`\n        <a id="ml_${n.opt}" class="${i}">${l}</a>\n      `}attributeChangedCallback(){this.render()}disconnectedCallback(){this.childNodes[1].removeEventListener("click",this.multiLanguage)}}}],t={};function a(o){var s=t[o];if(void 0!==s)return s.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o=a(3);LoadEditor=o})();
//# sourceMappingURL=de-editor.min.js.map